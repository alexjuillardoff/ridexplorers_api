{
  "openapi": "3.0.0",
  "info": {
    "title": "RIDEXPLORERS API",
    "version": "1.0.0",
    "description": "API providing data about roller coasters and theme parks"
  },
  "servers": [
    { "url": "/" }
  ],
  "components": {
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  },
  "security": [
    { "basicAuth": [] }
  ],
  "paths": {
    "/api/coasters": {
      "get": {
        "summary": "List coasters",
        "parameters": [
          {"name": "offset", "in": "query", "schema": {"type": "integer"}},
          {"name": "limit", "in": "query", "schema": {"type": "integer"}}
        ],
        "responses": {"200": {"description": "Paginated coasters"}}
      }
    },
    "/api/coasters/{id}": {
      "get": {
        "summary": "Get coaster by id",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}
        ],
        "responses": {"200": {"description": "Coaster"}, "404": {"description": "Not found"}}
      }
    },
    "/api/coasters/random": {
      "get": {"summary": "Random coaster", "responses": {"200": {"description": "One random coaster"}}}
    },
    "/api/coasters/search": {
      "get": {
        "summary": "Search coasters",
        "parameters": [{"name": "q", "in": "query", "required": true, "schema": {"type": "string"}}],
        "responses": {"200": {"description": "Search result"}}
      }
    },
    "/api/coasters/region/{region}": {
      "get": {
        "summary": "Coasters by region",
        "parameters": [{"name": "region", "in": "path", "required": true, "schema": {"type": "string"}}],
        "responses": {"200": {"description": "Region result"}}
      }
    },
    "/api/coasters/filter": {
      "get": {
        "summary": "Filter coasters",
        "parameters": [
          {"name": "make", "in": "query", "schema": {"type": "string"}},
          {"name": "model", "in": "query", "schema": {"type": "string"}},
          {"name": "type", "in": "query", "schema": {"type": "string"}},
          {"name": "design", "in": "query", "schema": {"type": "string"}},
          {"name": "inversions", "in": "query", "schema": {"type": "string"}},
          {"name": "elements", "in": "query", "schema": {"type": "string"}},
          {"name": "height", "in": "query", "schema": {"type": "string"}}
        ],
        "responses": {"200": {"description": "Filtered coasters"}}
      }
    },
    "/api/theme-parks": {
      "get": {
        "summary": "List theme parks",
        "parameters": [
          {"name": "offset", "in": "query", "schema": {"type": "integer"}},
          {"name": "limit", "in": "query", "schema": {"type": "integer"}}
        ],
        "responses": {"200": {"description": "Paginated theme parks"}}
      }
    },
    "/api/theme-parks/{id}": {
      "get": {
        "summary": "Get theme park by id",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}
        ],
        "responses": {"200": {"description": "Theme park"}, "400": {"description": "Not found"}}
      }
    },
    "/api/theme-parks/search": {
      "get": {
        "summary": "Search theme parks",
        "parameters": [{"name": "q", "in": "query", "required": true, "schema": {"type": "string"}}],
        "responses": {"200": {"description": "Search result"}}
      }
    },
    "/api/theme-parks/region/{region}": {
      "get": {
        "summary": "Theme parks by region",
        "parameters": [{"name": "region", "in": "path", "required": true, "schema": {"type": "string"}}],
        "responses": {"200": {"description": "Region result"}}
      }
    },
    "/scrape/files": {
      "get": {"summary": "List scraped files", "responses": {"200": {"description": "Files list"}}}
    },
    "/scrape/files/{name}": {
      "get": {
        "summary": "Get scraped file",
        "parameters": [{"name": "name", "in": "path", "required": true, "schema": {"type": "string"}}],
        "responses": {"200": {"description": "File content"}, "404": {"description": "Not found"}}
      }
    },
    "/scrape/upload": {
      "post": {
        "summary": "Upload JSON file",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {"type": "string", "format": "binary"}
                }
              }
            }
          }
        },
        "responses": {"200": {"description": "File uploaded"}, "400": {"description": "Error"}}
      }
    },
  }
}
